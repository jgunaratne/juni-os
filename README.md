# JuniOS

A web-based operating system with a GNOME-inspired desktop environment. Features a window manager, dock, app launcher, theming, and built-in apps â€” all running in the browser.

![JuniOS](https://img.shields.io/badge/JuniOS-v0.1-blue)

## Features

- ðŸ–¥ï¸ **Desktop Environment** â€” draggable/resizable windows, workspaces, top bar, dock
- ðŸ” **Linux Auth** â€” login with your system username and password
- ðŸ“ **Local Files** â€” browse, move, rename, and delete files on the host filesystem
- ðŸŽ¨ **Paint** â€” image editor with AI generation (Vertex AI / Gemini)
- ðŸ”Š **Sound** â€” audio player for wav, mp3, ogg, and more
- ðŸ–¥ï¸ **Terminal** â€” in-browser terminal emulator
- ðŸ“ **Notes** â€” text editor
- â™Ÿï¸ **Chess** â€” play against an AI
- ðŸ“° **News** â€” RSS reader
- ðŸ“ˆ **Stocks** â€” stock charts via Yahoo Finance
- ðŸŽ™ï¸ **Podcasts** â€” podcast player
- ðŸ—ºï¸ **Maps** â€” OpenStreetMap viewer
- ðŸ§® **Calculator**, ðŸ”® **Shader**, #ï¸âƒ£ **Tic-Tac-Toe**
- âš™ï¸ **Settings** â€” themes, wallpapers, dock config, typography
- âœ¦ **Gemini** â€” AI chat (requires Google Cloud project)

## Quick Start

### Prerequisites

- **Node.js** >= 18 (with npm)
- **Linux** system with user accounts (for auth)
- **rsync** (for install script)

### Development

```bash
# Clone the repo
git clone https://github.com/YOUR_USER/juni-os.git
cd juni-os

# Install dependencies
npm install

# Start dev server (frontend only, hot reload)
npm run dev

# In another terminal, start the backend
cd server
npm install
npm start
```

The dev server runs on `http://localhost:5173` with API proxy to the backend on port 3001.

### Production Deployment

#### Option A: Automated Install (recommended)

```bash
git clone https://github.com/YOUR_USER/juni-os.git
cd juni-os
sudo ./deploy/install.sh $USER
```

This will:
1. Copy files to `/opt/junios`
2. Build the frontend
3. Install the production server
4. Create and start a systemd service
5. Print the URL to access JuniOS

#### Option B: Manual Setup

```bash
# 1. Clone and build
git clone https://github.com/YOUR_USER/juni-os.git
cd juni-os
npm install
npm run build

# 2. Install the production server
cd deploy
npm install

# 3. Start
JUNIOS_PORT=3000 node server.js
```

#### Option C: With nginx (port 80)

After installing JuniOS (Option A or B):

```bash
sudo apt install nginx
sudo cp deploy/nginx.conf /etc/nginx/sites-available/junios
sudo ln -sf /etc/nginx/sites-available/junios /etc/nginx/sites-enabled/default
sudo nginx -t && sudo systemctl reload nginx
```

Now accessible on `http://<your-ip>/`.

## Configuration

### Environment Variables

| Variable | Default | Description |
|---|---|---|
| `JUNIOS_PORT` | `3000` | Port for the production server |
| `VERTEX_BACKEND` | `http://127.0.0.1:3001` | Vertex AI backend URL (for Gemini/Paint AI) |
| `HOME` | auto | Home directory for filesystem access |

### Vertex AI Backend (optional)

The Gemini chat and Paint AI features require a Google Cloud project with Vertex AI enabled:

```bash
cd server
cp .env.example .env
# Edit .env with your GCP_PROJECT_ID
npm install
npm start
```

Requires `gcloud auth application-default login` or a service account key.

## Architecture

```
juni-os/
â”œâ”€â”€ src/                    # React frontend (Vite + TypeScript + Tailwind)
â”‚   â”œâ”€â”€ apps/               # Built-in applications
â”‚   â”œâ”€â”€ kernel/              # Core stores (auth, windows, processes, filesystem, themes)
â”‚   â”œâ”€â”€ shell/               # Desktop shell (TopBar, Dock, Desktop, LoginScreen)
â”‚   â”œâ”€â”€ shared/              # Types, app registry
â”‚   â””â”€â”€ themes/              # Theme presets
â”œâ”€â”€ deploy/                 # Production deployment
â”‚   â”œâ”€â”€ server.js            # Unified production server (SPA + APIs)
â”‚   â”œâ”€â”€ install.sh           # Automated install script
â”‚   â”œâ”€â”€ junios.service       # systemd unit template
â”‚   â””â”€â”€ nginx.conf           # nginx reverse proxy config
â”œâ”€â”€ server/                 # Vertex AI backend (optional)
â”‚   â””â”€â”€ index.js             # Gemini/stocks/news proxy
â”œâ”€â”€ dist/                   # Built frontend (generated by `npm run build`)
â””â”€â”€ index.html              # Vite entry point
```

### API Endpoints (Production Server)

| Method | Path | Description |
|---|---|---|
| `POST` | `/api/auth/login` | Authenticate with Linux credentials |
| `GET` | `/api/fs/list?path=...` | List directory contents |
| `GET` | `/api/fs/read?path=...` | Read file contents |
| `POST` | `/api/fs/mkdir` | Create directory |
| `POST` | `/api/fs/move` | Move/rename file |
| `POST` | `/api/fs/delete` | Delete file or directory |
| `GET` | `/api/fs/download?path=...` | Download file |
| `GET` | `/api/logs` | Request log buffer |
| `GET` | `/health` | Health check |

### Security Notes

- **Filesystem access** is restricted to the home directory of the user running the server
- **Authentication** uses the Linux PAM system via `su`
- This is designed for **local/trusted networks** â€” add HTTPS and proper auth tokens for public exposure
- The server runs as a single Linux user; all filesystem operations use that user's permissions

## Managing the Service

```bash
# Status
sudo systemctl status junios@$USER

# Logs
journalctl -u junios@$USER -f

# Restart
sudo systemctl restart junios@$USER

# Stop
sudo systemctl stop junios@$USER
```

## License

MIT
